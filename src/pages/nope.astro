---
import BaseLayout from '../layouts/BaseLayout.astro';
import { type CollectionEntry, getCollection } from 'astro:content';
import Hero from '../components/Hero.astro';
import siteConfig from '../data/site-config';

export async function getStaticPaths() {
    const pages = await getCollection('pages');
    return pages.map((page) => {
        return {
            params: { slug: page.slug },
            props: { page }
        };
    });
}

type Props = { page: CollectionEntry<'pages'> };

const { page } = Astro.props;
const { title, seo } = page.data;
const { Content } = await page.render();
---

<BaseLayout description={siteConfig.description} image={siteConfig.image}>
    <Hero />
    <Content />
</BaseLayout>
